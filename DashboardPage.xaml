<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="JournalApp.DashboardPage"
             Title="Dashboard">

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="16">
            <!-- Gradient header like the sample -->
            <Frame Padding="16" CornerRadius="18" HasShadow="False" Margin="0,0,0,10">
                <Frame.Background>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                        <GradientStop Color="#5A60F2" Offset="0.0" />
                        <GradientStop Color="#9F5AF2" Offset="1.0" />
                    </LinearGradientBrush>
                </Frame.Background>
                <VerticalStackLayout>
                    <Label Text="Your Journal Dashboard"
                           FontSize="24"
                           FontAttributes="Bold"
                           TextColor="White" />
                    <Label Text="Track your thoughts, moods, and journaling progress"
                           FontSize="14"
                           TextColor="White" />
                </VerticalStackLayout>
            </Frame>

            <!-- Summary stat cards -->
            <Grid ColumnDefinitions="*,*,*,*" ColumnSpacing="10">
                <!-- Total Entries -->
                <Frame Padding="10" BackgroundColor="{DynamicResource CardBackgroundColor}" CornerRadius="16">
                    <Frame.Background>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                            <GradientStop Color="#5A60F2" Offset="0.0" />
                            <GradientStop Color="#9F5AF2" Offset="1.0" />
                        </LinearGradientBrush>
                    </Frame.Background>
                    <VerticalStackLayout>
                        <Label Text="Total Entries" FontAttributes="Bold" TextColor="White" />
                        <Label x:Name="TotalEntriesLabel" Text="0" FontSize="24" TextColor="White" />
                    </VerticalStackLayout>
                </Frame>

                <!-- Current Streak -->
                <Frame Padding="10" Grid.Column="1" BackgroundColor="{DynamicResource CardBackgroundColor}" CornerRadius="16">
                    <Frame.Background>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                            <GradientStop Color="#FF6F61" Offset="0.0" />
                            <GradientStop Color="#FF8A65" Offset="1.0" />
                        </LinearGradientBrush>
                    </Frame.Background>
                    <VerticalStackLayout>
                        <Label Text="Current Streak" FontAttributes="Bold" TextColor="White" />
                        <Label x:Name="CurrentStreakLabel" Text="0 days" FontSize="24" TextColor="White" />
                    </VerticalStackLayout>
                </Frame>

                <!-- Longest Streak -->
                <Frame Padding="10" Grid.Column="2" BackgroundColor="{DynamicResource CardBackgroundColor}" CornerRadius="16">
                    <Frame.Background>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                            <GradientStop Color="#42A5F5" Offset="0.0" />
                            <GradientStop Color="#26C6DA" Offset="1.0" />
                        </LinearGradientBrush>
                    </Frame.Background>
                    <VerticalStackLayout>
                        <Label Text="Longest Streak" FontAttributes="Bold" TextColor="White" />
                        <Label x:Name="LongestStreakLabel" Text="0 days" FontSize="24" TextColor="White" />
                    </VerticalStackLayout>
                </Frame>

                <!-- Average Words -->
                <Frame Padding="10" Grid.Column="3" BackgroundColor="{DynamicResource CardBackgroundColor}" CornerRadius="16">
                    <Frame.Background>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                            <GradientStop Color="#66BB6A" Offset="0.0" />
                            <GradientStop Color="#9CCC65" Offset="1.0" />
                        </LinearGradientBrush>
                    </Frame.Background>
                    <VerticalStackLayout>
                        <Label Text="Average Words" FontAttributes="Bold" TextColor="White" />
                        <Label x:Name="AverageWordsLabel" Text="0" FontSize="24" TextColor="White" />
                    </VerticalStackLayout>
                </Frame>
            </Grid>

            <Label Text="Mood Distribution" FontAttributes="Bold" Margin="0,20,0,0" />

            <VerticalStackLayout Spacing="6">
                <Frame Padding="8" BackgroundColor="{DynamicResource CardBackgroundColor}"
                       BorderColor="{DynamicResource PrimaryColor}" CornerRadius="10">
                    <Grid ColumnDefinitions="Auto,*,Auto">
                        <Label Text="Positive" FontAttributes="Bold" />
                        <Label Grid.Column="1" x:Name="PositivePercentLabel" HorizontalOptions="EndAndExpand" />
                        <Label Grid.Column="2" x:Name="PositiveCountLabel" FontSize="12" />
                    </Grid>
                </Frame>
                <Frame Padding="8" BackgroundColor="{DynamicResource CardBackgroundColor}"
                       BorderColor="{DynamicResource PrimaryColor}" CornerRadius="10">
                    <Grid ColumnDefinitions="Auto,*,Auto">
                        <Label Text="Neutral" FontAttributes="Bold" />
                        <Label Grid.Column="1" x:Name="NeutralPercentLabel" HorizontalOptions="EndAndExpand" />
                        <Label Grid.Column="2" x:Name="NeutralCountLabel" FontSize="12" />
                    </Grid>
                </Frame>
                <Frame Padding="8" BackgroundColor="{DynamicResource CardBackgroundColor}"
                       BorderColor="{DynamicResource PrimaryColor}" CornerRadius="10">
                    <Grid ColumnDefinitions="Auto,*,Auto">
                        <Label Text="Negative" FontAttributes="Bold" />
                        <Label Grid.Column="1" x:Name="NegativePercentLabel" HorizontalOptions="EndAndExpand" />
                        <Label Grid.Column="2" x:Name="NegativeCountLabel" FontSize="12" />
                    </Grid>
                </Frame>
            </VerticalStackLayout>

            <Label x:Name="MissedDaysLabel" Text="Missed Days: 0" Margin="0,10,0,0" />

            <Label Text="Recent Entries" FontAttributes="Bold" Margin="0,20,0,0" />
            <CollectionView x:Name="RecentEntriesCollectionView" HeightRequest="200">
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Grid Padding="5" ColumnDefinitions="Auto,*">
                            <Label Text="{Binding EntryDate, StringFormat='{}{0:yyyy-MM-dd}'}"
                                   FontAttributes="Bold"
                                   Margin="0,0,10,0" />
                            <Label Grid.Column="1"
                                   Text="{Binding Title}"
                                   LineBreakMode="TailTruncation" />
                        </Grid>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
